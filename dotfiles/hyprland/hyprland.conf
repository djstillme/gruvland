#
# hyprland configuration for gruvland
#
################################################################################
#                             MONITOR SETTINGS
################################################################################
monitor=,preferred,auto,auto
monitor=HDMI-A-1,1920x1080@144,1920x1080,1
################################################################################

################################################################################
#                        PROGRAMS EXECUTED ON LAUNCH
################################################################################
exec-once = ~/.dotfiles/hyprland/xdg-portal-hyprland
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = hyprpaper
exec = waybar
################################################################################

################################################################################
#                         KEYBOARD CONFIGURATION
################################################################################
input {
kb_layout = us, ru
kb_variant =
kb_model =
kb_options = grp:alt_shift_toggle
    kb_rules =
    follow_mouse = 1

    touchpad {
        natural_scroll = no
    }

    sensitivity = -0.65 # -1.0 - 1.0, 0 means no modification.
}
################################################################################
#                        WINDOW BORDER SETTINGS
################################################################################
general {
    gaps_in = 5
    gaps_out = 10
    border_size = 0
    col.active_border = rgba(5f875fff)
    col.inactive_border = rgba(595959aa)
    layout = dwindle
}

misc {
    disable_hyprland_logo = yes
}
################################################################################
#                           ANIMATIONS
################################################################################
animations {
    enabled = yes
    bezier = myBezier, 0.10, 0.9, 0.1, 1.05
    animation = windows, 1, 7, myBezier, slide
    animation = windowsOut, 1, 7, myBezier, slide
    animation = border, 1, 10, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default, slidevert
}

dwindle {
    pseudotile = yes
    preserve_split = yes
}

#gestures {
#    workspace_swipe = off
#}
################################################################################
#                        PROGRAM SPECIFIC BEHAVIOR
################################################################################
windowrulev2 = opacity 0.65 0.65,class:^(kitty)$
windowrulev2 = animation popin,class:^(kitty)$,title:^(update-sys)$
windowrulev2 = animation popin,class:^(pcmanfm)$
windowrulev2 = opacity 0.8 0.8,class:^(pcmanfm)$
windowrulev2 = opacity 0.8 0.8,class:^(VSCodium)$
windowrulev2 = animation popin,class:^(chromium)$
windowrulev2 = move cursor -3% -105%,class:^(wofi)$
windowrulev2 = noanim,class:^(wofi)$
windowrulev2 = opacity 0.8 0.6,class:^(wofi)$
windowrulev2 = opacity 0.8 0.8,class:^(emacs)$
windowrulev2 = opacity 0.8 0.8,class:^(discord)$
windowrulev2 = opacity 0.8 0.8,class:^(librewolf)$
windowrulev2 = opacity 0.8 0.8,class:^(thunar)$
windowrulev2 = opacity 0.8 0.8,class:^(firefox)$
################################################################################
#                         HOTKEY CONFIGURATION
################################################################################
$mainMod = ALT                                                            # Mainmod
bind = $mainMod, code:24, exec, [float: center; size: 1060 900] kitty    # Open Terminal (Q)
bind = $mainMod, code:25, killactive,                                     # Kill Window (W)
bind = $mainMod, code:46, exec, swaylock                                  # Lock Screen (L)
bind = $mainMod, code:41, exec, thunar                                    # File Manager (F)
bind = $mainMod, code:26, exec, kitty micro                               # Text Editor (E)
bind = $mainMod, code:39, exec, rofi -show drun                           # Rofi Search (S)
bind = $mainMod, code:33, pseudo,                                         # Pseudo Tiling (P)
bind = $mainMod, code:28, fullscreen                                      # Theater Mode (T)
bind = $mainMod, code:43, exec, ~/.config/gruvland/scripts/help.sh        # Hotkey Helper (H)
bind = $mainMod, code:32, exec, ~/.config/gruvland/scripts/hypropacity.sh # Toggle Opacity (O)
bind = $mainMod, F3, exec, ~/.config/gruvland/scripts/emojis.sh           # Emoji Picker
bind = $mainMod, F4, exec, ~/.config/gruvland/scripts/snippets.sh         # Snippet Picker
bind = $mainMod, F5, exec, ~/.config/gruvland/scripts/screenshot.sh       # Screenshot
bind = $mainMod, F6, exec, ~/.config/gruvland/scripts/clipscreen.sh       # Copy Screen to Clipboard

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, code:10, workspace, 1                                    # Workspace 1 (1)
bind = $mainMod, code:11, workspace, 2                                    # Workspace 2 (2)
bind = $mainMod, code:12, workspace, 3                                    # Workspace 3 (3)
bind = $mainMod, code:13, workspace, 4                                    # Workspace 4 (4)
bind = $mainMod, code:14, workspace, 5                                    # Workspace 5 (5)
bind = $mainMod, code:15, workspace, 6                                    # Workspace 6 (6)
bind = $mainMod, code:16, workspace, 7                                    # Workspace 7 (7)
bind = $mainMod, code:17, workspace, 8                                    # Workspace 8 (8)
bind = $mainMod, code:18, workspace, 9                                    # Workspace 9 (9)
bind = $mainMod, code:19, workspace, 10                                   # Workspace 0 (0)

bind = $mainMod, F2, exec, ~/.config/gruvland/scripts/hotkeys.sh          # Toggle Hotkeys
bind = $mainMod, F1, exec, ~/.config/gruvland/scripts/flag.sh             # Toggle Keyboard Layout

submap = clean
bind = $mainMod, F2, exec, ~/.config/gruvland/scripts/hotkeys.sh
submap = reset

# Scroll through workspaces
bind = $mainMod, mouse_down, workspace, e+1                               # Previous Workspace
bind = $mainMod, mouse_up, workspace, e-1                                 # Next Workspace

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow                                   # Move Window
bindm = $mainMod, mouse:273, resizewindow                                 # Scale Window
################################################################################
#                               GENERAL FEATURES
################################################################################
misc {
  enable_swallow = true
  swallow_regex = ^(kitty)$
}
################################################################################
#                               SOURCE FILES
################################################################################
source = ~/.config/hypr/env_var.conf
################################################################################
#                               MOUSE CURSOR
################################################################################
env = XCURSOR_THEME,Gruvboxcursor
env = XCURSOR_SIZE,24
